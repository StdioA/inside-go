"use strict";$(document).ready(function(){$.ajaxSetup({beforeSend:function(e,t){e.setRequestHeader("X-CSRFToken",$("input[name=csrfmiddlewaretoken]").val())}}),$("#form button").on("click",function(e){var t=$("#content_bg").attr("post-id"),n="/api/"+t,o=e.target;if("update"==o.id){var a={content:$("textarea").first().val(),exist:document.getElementsByName("exist")[0].checked};$.ajax({url:n,type:"PUT",data:JSON.stringify(a),headers:{"Content-Type":"application/json"},success:function(e){$("#update").addClass("green"),setTimeout(function(){$("#update").removeClass("green")},1e3)}})}else"delete"==o.id&&$.ajax({url:n,type:"DELETE",beforeSend:function(e){e.setRequestHeader("X-CSRFToken",$("input[name=csrfmiddlewaretoken]").val())},success:function(e){console.log(e),$("#delete").addClass("green"),setTimeout(function(){$("#delete").removeClass("green")},1e3)}})}),$("#comment button").on("click",function(e){var t=$("#content_bg").attr("post-id"),n="/api/comment/"+t;console.log(n),$.post(n,{csrfmiddlewaretoken:$("input[name=csrfmiddlewaretoken]").val(),author:$("input[name=author]").val(),content:$("input[name=content]").val()},function(e,t){1==e.success&&($("#comment button").addClass("green"),setTimeout(function(){$("#comment button").removeClass("green")},1e3))})})});